(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/Logo.76d8cd68.png"},19:function(e,t,a){e.exports=a.p+"static/media/backgroundImage2.f82817c2.jpg"},39:function(e,t,a){e.exports=a(71)},44:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),s=(a(44),a(1)),o=a(4),m=a(14),i=function(e){var t=e.classes,a=e.children;return r.a.createElement("div",{className:"container ".concat(t)},a)},u=function(e){var t=e.classes,a=e.children;return r.a.createElement("div",{className:"row ".concat(t)},a)},d=function(e){var t=e.size,a=e.classes,n=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-".concat(e)}).join(" ")+" "+a},n)},f=function(e){var t=e.navState,a=e.children,n=e.id,l=t?"navbar-collapse collapse show":"navbar-collapse collapse";return r.a.createElement("div",{className:l,id:n},a)};function E(){return r.a.createElement("div",{style:p},r.a.createElement(i,null,r.a.createElement(u,null,r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement("div",{class:"jumbotron mt-5"},r.a.createElement("img",{style:g,src:a(18),alt:"Logo"}),r.a.createElement("h1",{className:"display-4"},r.a.createElement("em",null,"My")," EHR"),r.a.createElement("p",{className:"lead"},"All the medical records you need in one, simple place."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(o.b,{to:"/signup",className:"btn btn-primary btn-lg"},"Get Started"))))))}var p={backgroundImage:"url("+a(19)+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},g={width:"60px",height:"auto",float:"right"},b=a(5),v=a(3);function h(e){return r.a.createElement("input",Object.assign({className:"form-control"},e))}function y(e){return r.a.createElement("textarea",Object.assign({className:"form-control"},e))}function N(e){return r.a.createElement("button",e,e.children)}function x(e){var t=e.btnType;return r.a.createElement(N,{className:"btn btn-primary btn-lg btn-block",type:"submit"},t)}var w=a(10),O=a.n(w),C={fetchPatient:function(e){return O.a.get("/api/patients/".concat(e))},fetchPatients:function(e){return O.a.get("/api/patients/load",e)},addPatient:function(e){return O.a.post("/api/patients/add",e)},removePatient:function(e){return O.a.delete("/api/patients/".concat(e))},updateEHR:function(e,t){return O.a.patch("/api/patients/".concat(e),t)},getUser:function(){return O.a.get("/api/users").then(function(e){return e})},register:function(e){return O.a.post("api/users/register",e)},login:function(e){return O.a.post("/api/users/login",e)},getConditionNames:function(e){return O.a.get("https://clinicaltables.nlm.nih.gov/api/conditions/v3/search?terms=".concat(e,"&sf=primary_name,consumer_name&df=primary_name,consumer_name,info_link_data"))},fetchCondition:function(e){return O.a.get("https://www.dictionaryapi.com/api/v3/references/medical/json/".concat(e,"?key=").concat("f57f85fe-8b49-4bf7-a104-d906698dec04"))},getMedNames:function(){return O.a.get("https://rxnav.nlm.nih.gov/REST/displaynames")},fetchMeds:function(e){return O.a.get("https://rxnav.nlm.nih.gov/REST/drugs.json?name=".concat(e))}},j=a(35),z=a(36),k=new(function(){function e(){Object(j.a)(this,e),this.authenticated=!1}return Object(z.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}());function S(){var e=Object(m.f)(),t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],f=l[1],E=function(e){var t=e.target,a=t.name,n=t.value;f(Object(v.a)({},c,Object(b.a)({},a,n)))};return r.a.createElement("div",{style:P},r.a.createElement(i,null,r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement(d,{size:"md-12",classes:"box-shadow sign"},r.a.createElement(u,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement("h5",{style:A},r.a.createElement("img",{style:D,src:a(18),alt:"Logo"}),"Log-in to your account"))),r.a.createElement(u,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),t.target.reset(),C.login(c).then(function(t){"success"===t.data.status?k.login(function(){e.push("/patients")}):console.log("Login failed.  Please try again.")}).catch(function(e){return e})},className:"card-body"},r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Email:"),r.a.createElement("span",{className:"fa fa-user"}),r.a.createElement(h,{onChange:E,name:"email",type:"email",placeholder:"E-mail address"})),r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Password:"),r.a.createElement("span",{className:"fa fa-lock"}),r.a.createElement(h,{onChange:E,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(x,{btnType:"log in"}))),r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement("p",null," New here?",r.a.createElement(o.b,{to:"/signup"}," Sign up.")))))))}var P={backgroundImage:"url("+a(19)+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},D={width:"60px",height:"auto"},A={color:"#0099ff",textShadow:"1px 1px #000"};function I(){var e=Object(m.f)(),t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],f=l[1],E=function(e){var t=e.target,a=t.name,n=t.value;f(Object(v.a)({},c,Object(b.a)({},a,n)))};return r.a.createElement("div",{style:T},r.a.createElement(i,null,r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement(d,{size:"md-12",classes:"box-shadow sign"},r.a.createElement(u,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement("h5",{style:B},r.a.createElement("img",{style:R,src:a(18),alt:"Logo"}),"Create your account"))),r.a.createElement(u,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),t.target.reset();try{C.register(c).then(function(t){"OK"===t.statusText&&C.login(c).then(function(t){"success"===t.data.status&&k.login(function(){e.push("/patients")})})})}catch(a){console.log(a)}},className:"card-body"},r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Email:"),r.a.createElement("span",{className:"fa fa-user"}),r.a.createElement(h,{onChange:E,name:"email",type:"email",placeholder:"E-mail address"})),r.a.createElement("div",{className:"form-group usr-inpt"},r.a.createElement("label",null,"Password:"),r.a.createElement("span",{className:"fa fa-lock"}),r.a.createElement(h,{onChange:E,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(x,{btnType:"Sign Up"}))),r.a.createElement(u,{classes:"justify-content-center"},r.a.createElement("p",null,"Already have an account?",r.a.createElement(o.b,{to:"/SignIn"}," Log In.")))))))}var T={backgroundImage:"url("+a(19)+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh"},R={width:"60px",height:"auto"},B={color:"#0099ff",textShadow:"1px 1px #000"},L=a(2),M=a.n(L),H=a(7);function W(e){var t=e.patient,a=e.context,n=e.removeState,l=e.confirmRemoval,c=e.remove,s=e.index,m=t.patientData,i=t.healthData,f=t._id;if(!m||!i)return r.a.createElement("div",null);var E,p=m.firstName,g=m.nickname;return E=p||g?g&&""!==g?g:p:"",n?t.removable?r.a.createElement("div",{className:"patient-remove"},r.a.createElement(o.b,{to:"/patients",onClick:c.bind(this,f),style:{textDecoration:"none"}},r.a.createElement("div",{className:"card box-shadow mt-5"},r.a.createElement("div",{className:"card-body text-center btn btn-outline-danger"},r.a.createElement(u,null,r.a.createElement(d,{size:"md-4"},r.a.createElement("i",{className:"fas fa-user-times fa-4x rm-lg-user"})),r.a.createElement(d,{size:"md-8"},r.a.createElement("h2",{className:"card-title"},"Please Confirm"),r.a.createElement("p",{className:"card-text"},"This will remove ",""!==E?E:"this patient"," from your list."))))))):r.a.createElement("div",{className:"patient-remove"},r.a.createElement(o.b,{to:"/patients",onClick:l.bind(this,s),style:{textDecoration:"none"}},r.a.createElement("div",{className:"card box-shadow mt-5"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement(u,null,r.a.createElement(d,{size:"md-2"}),r.a.createElement(d,{size:"md-8"},r.a.createElement("h2",{className:"card-title"},"Remove ",""===E?"this patient":E),r.a.createElement("p",{className:"card-text"},"Delete ",""!==E?E:"this patient"," from your patient list?")),r.a.createElement(d,{size:"md-2"},r.a.createElement("i",{className:"fas fa-user-times fa-2x rm-sm-user",style:F}))))))):r.a.createElement(o.b,{to:{pathname:"/ehr",state:{patientId:f,name:E}},onClick:function(){a({patientId:f,name:E})},style:{textDecoration:"none"}},r.a.createElement("div",{className:"card box-shadow mt-5"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h2",{className:"card-title"},""===E?"name this patient":E),r.a.createElement("p",{className:"card-text"},"Access ",""!==E?E:"this patient","'s information here."))))}var F={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"};function _(e){var t=e.removeState,a=e.toggleRemoveState,n=e.confirmed,l=e.cancel;return t?n?r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:t?{float:"left",color:"tomato"}:{float:"left"},onClick:l},r.a.createElement("i",{className:"fas fa-hand-point-right"})," last chance to cancel")):r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:t?{float:"left",color:"tomato"}:{float:"left"},onClick:function(){a(!t)}},r.a.createElement("i",{className:"fas fa-ban"})," Cancel")):r.a.createElement("div",null,r.a.createElement("div",{className:"add"},r.a.createElement(o.b,{to:{pathname:"/ehr",state:{patientId:""}},className:"btn plus",style:{float:"right"}},r.a.createElement("i",{class:"fas fa-user-plus"})," New Patient")),r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:{float:"left"},onClick:function(){a(!t)}},r.a.createElement("i",{className:"fas fa-user-minus"})," Remove Patients")))}function U(e){var t=e.setContext,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),E=f[0],p=f[1],g=Object(n.useState)(!1),b=Object(s.a)(g,2),v=b[0],h=b[1];Object(n.useEffect)(function(){y()},[]);var y=function(){var e=Object(H.a)(M.a.mark(function e(){var t,a,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getUser();case 2:return t=e.sent,a=t.data,e.next=6,C.fetchPatients(a.user);case 6:n=e.sent,o(n.data);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(H.a)(M.a.mark(function e(t){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.removePatient(t);case 2:p(!1),y();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=c;t[e].removable=!t[e].removable,h(!0),o(t)};return r.a.createElement(i,null,r.a.createElement(u,null,r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},c.map(function(e,a){return r.a.createElement(W,{patient:e,index:a,context:t,removeState:E,confirmRemoval:x,remove:N,key:e._id})}),r.a.createElement(_,{removeState:E,confirmed:v,cancel:function(){var e=c;e.forEach(function(e){e.removable=!1}),h(!1),p(!1),o(e)},toggleRemoveState:function(){p(!E)}}))))}var G=a(13),Y=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=(t[0],t[1]);return function(){return a(function(e){return++e})}},Z=Object(n.createContext)({patientId:"",name:""});function J(e){var t=e.data,a=e.target,n=e.editState,l=e.toggleState,c=e.formSubmit,s=e.name;return n?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},s?"".concat(s,"'s"):""," Contact Information:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},V,{color:"tomato"}),onClick:l})),r.a.createElement("form",{onSubmit:c},r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement(h,{value:t?t.firstName:"",name:"firstName",style:q,onChange:a})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement(h,{value:t?t.lastName:"",name:"lastName",style:q,onChange:a})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Nickname"),r.a.createElement(h,{value:t?t.nickname:"",name:"nickname",style:q,placeholder:"e.g. 'Mom'",onChange:a}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 1"),r.a.createElement(h,{value:t?t.addressOne:"",name:"addressOne",style:q,onChange:a}),"                    "),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 2"),r.a.createElement(h,{value:t?t.addressTwo:"",name:"addressTwo",style:q,onChange:a}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City"),r.a.createElement(h,{value:t?t.city:"",name:"city",style:q,onChange:a})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence"),r.a.createElement(h,{value:t?t.state:"",name:"state",style:q,onChange:a})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code"),r.a.createElement(h,{value:t?t.zip:"",name:"zip",style:q,onChange:a})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(h,{value:t?t.country:"",name:"country",style:q,onChange:a}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Phone Number"),r.a.createElement(h,{value:t?t.phone:"",name:"phone",style:q,onChange:a})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(h,{value:t?t.email:"",name:"email",style:q,onChange:a}))),r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"btn",style:$,type:"submit"}," ",r.a.createElement("i",{className:"fas fa-sync-alt mr-2"})," "," "," "," update")))):r.a.createElement("div",{className:"my-5 gen-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},s?"".concat(s,"'s"):""," Contact Information:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:V,onClick:l})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"First Name:"),r.a.createElement("div",{style:K},t.firstName)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Last Name:"),r.a.createElement("div",{style:K},t.lastName)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Nickname:"),r.a.createElement("div",{style:K},t.nickname))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 1:"),r.a.createElement("div",{style:K},t.addressOne)),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 2:"),r.a.createElement("div",{style:K},t.addressTwo))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City:"),r.a.createElement("div",{style:K},t.city)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence:"),r.a.createElement("div",{style:K},t.state)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code:"),r.a.createElement("div",{style:K},t.zip)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country:"),r.a.createElement("div",{style:K},t.country))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Phone Number:"),r.a.createElement("div",{style:K},t.phone)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("div",{style:K},t.email)))))}var K={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},V={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},$={float:"right",margin:"0",backgroundColor:"#214c91",color:"white",padding:".4rem .75rem"},q={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"};function Q(e){var t,a,n=e.data,l=e.target,c=e.editState,s=e.toggleState,o=e.formSubmit,m=e.name,i=function(e){var t=new Date,a=new Date(e),n=t.getMonth()-a.getMonth(),r=t.getFullYear()-a.getFullYear();return isNaN(r)?"??":n<0||0===n&&t.getDate()<a.getDate()?r-1:r};return c?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},m?"".concat(m,"'s"):""," Basic Health Information:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},ee,{color:"tomato"}),onClick:s})),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Date of Birth"),r.a.createElement(h,{name:"dob",placeholder:"MM/DD/YYYY",value:n.dob,style:ae,onChange:l})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Age"),r.a.createElement("div",{style:X},i(n.dob))),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Gender"),r.a.createElement("select",{name:"gender",className:"form-control",style:ae,onChange:l},(a=n.gender,["Select","Male","Female","Transgender Male","Transgender Female"].map(function(e){return e===a?r.a.createElement("option",{value:a,selected:!0},a):r.a.createElement("option",null,e)})))),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Blood Type"),r.a.createElement("select",{name:"bloodType",className:"form-control",style:ae,onChange:l},(t=n.bloodType,["Select","Unknown","A-Positive","A-Negative","B-Positive","B-Negative","AB-Positive","AB-Negative","O-Positive","O-Negative"].map(function(e){return e===t?r.a.createElement("option",{value:t,selected:!0},t):r.a.createElement("option",null,e)}))))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Insurance Plan"),r.a.createElement(h,{value:n.insurance,name:"insurance",style:ae,onChange:l})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Number"),r.a.createElement(h,{value:n.insNumber,name:"insNumber",style:ae,onChange:l})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx BIN"),r.a.createElement(h,{value:n.rxBin,name:"rxBin",style:ae,onChange:l})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx PCN"),r.a.createElement(h,{value:n.rxPcn,name:"rxPcn",style:ae,onChange:l}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Allergies"),r.a.createElement(y,{value:n.allergies,name:"allergies",style:ae,onChange:l})),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Immunizations (include dates received)"),r.a.createElement(y,{value:n.immunizations,name:"immunizations",style:ae,onChange:l}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Family History & Other Notes"),r.a.createElement(y,{value:n.notes,name:"notes",style:ae,onChange:l}))),r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"btn",style:te,type:"submit"}," ",r.a.createElement("i",{className:"fas fa-sync-alt mr-2"})," "," "," "," update")))):r.a.createElement("div",{className:"my-5 health-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},m?"".concat(m,"'s"):""," Basic Health Information:")),r.a.createElement(d,{size:"md-12",classes:"gen-edit mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:ee,onClick:s})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Date of Birth:"),r.a.createElement("div",{style:X},n.dob)),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Age:"),r.a.createElement("div",{style:X},i(n.dob))),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Gender:"),r.a.createElement("div",{style:X},n.gender)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Blood Type:"),r.a.createElement("div",{style:X},n.bloodType))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Insurance Plan:"),r.a.createElement("div",{style:X},n.insurance)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Number:"),r.a.createElement("div",{style:X},n.insNumber)),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx BIN:"),r.a.createElement("div",{style:X},n.rxBin)),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Rx PCN:"),r.a.createElement("div",{style:X},n.rxPcn))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Allergies:"),r.a.createElement("div",{style:X},n.allergies)),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Immunizations (include dates received):"),r.a.createElement("div",{style:X},n.immunizations))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Family History & Other Notes:"),r.a.createElement("div",{style:X},n.notes)))))}var X={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},ee={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},te={float:"right",margin:"0",backgroundColor:"#214c91",color:"white",padding:".4rem .75rem"},ae={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"};function ne(e){var t=e.data,a=e.name,n=e.target,l=e.areaTarget,c=e.editState,s=e.toggleState,o=e.formSubmit,m=e.renderSuggestions,i=e.remove,u=e.text,f=e.toggleDescState,E=e.editDescState,p=function(e){return e.length>250?e.length/80:3};function g(e){var t=this;return e.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,a){return e.edit?r.a.createElement(d,{key:a,size:"md-12",classes:"form-group"},r.a.createElement("form",null,r.a.createElement("label",{style:re},e.name," "," ",r.a.createElement(N,{className:"fas fa-pen",style:{border:"none"},onClick:f.bind(t,a)}),r.a.createElement(N,{className:"fas fa-sync-alt",style:me,onClick:f.bind(t,a)})),r.a.createElement(y,{value:e.description,rows:p(e.description),onChange:l(a),style:le}))):r.a.createElement(d,{key:a,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:re},e.name," "," ",r.a.createElement(N,{className:"fas fa-pen",style:{border:"none"},onClick:f.bind(t,a)}),r.a.createElement(N,{className:"fas fa-times",style:ie,onClick:i.bind(t,a)})),r.a.createElement("div",null,e.description))})}return!c&&0!==t.length||E?E?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},a?"".concat(a,"'s"):""," Health Conditions:")),r.a.createElement(d,{size:"md-12 mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},se,{color:"tomato"}),onClick:s})),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-row",style:{background:"white"}},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Add New Condition"),r.a.createElement("div",null,r.a.createElement(h,{type:"text",style:ce,value:u,onChange:n}),m())),r.a.createElement(d,{size:"md-3"},r.a.createElement(N,{className:"btn",style:oe,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-plus fa-2x mr-2"})," Add"))),r.a.createElement("div",{className:"form-row"},g(t)))):r.a.createElement("div",{className:"mt-5 condition-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},a?"".concat(a,"'s"):""," Health Conditions:")),r.a.createElement(d,{size:"md-12",classes:"condition-edit mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:se,onClick:s})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},t.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,t){return r.a.createElement(d,{key:t,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:re},e.name," "),r.a.createElement("div",null,e.description))})))):r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},a?"".concat(a,"'s"):""," Health Conditions:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},se,{color:"tomato"}),onClick:s})),r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"form-row",style:{background:"white"}},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Add New Condition"),r.a.createElement("div",null,r.a.createElement(h,{type:"text",autoComplete:"off",style:ce,value:u,onChange:n}),m())),r.a.createElement(d,{size:"md-3"},r.a.createElement(N,{className:"btn",style:oe,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-plus fa-2x mr-2"})," Add"))),r.a.createElement("div",{className:"form-row"},g(t))))}var re={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},le={resize:"none",borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},ce={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},se={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},oe={marginTop:"30px",color:"#214c91",focus:"none",size:"10em"},me={border:"none",color:"#214c91"},ie={border:"none",color:"red"};function ue(e){var t=e.data,a=e.text,n=e.name,l=e.target,c=e.remove,s=e.addDoses,o=e.editState,m=e.formSubmit,i=e.toggleState,u=e.otherDosage,f=e.doseChoices,E=e.renderSuggestions;return o||0===t.length?r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},n?"".concat(n,"'s"):""," Medications:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:Object(v.a)({},Ee,{color:"tomato"}),onClick:i})),r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"form-row",style:{background:"white"}},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Add New Medication"),r.a.createElement(N,{className:"fas fa-hand-point-right",style:ge,onClick:s}),r.a.createElement("div",null,r.a.createElement(h,{name:"medication",autoComplete:"off",style:fe,value:a,onBlur:s,onChange:l}),E())),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Select Dosage"),r.a.createElement("div",null,function(e){if(e&&"Other Dose"!==u){var t=e.includes("Other Dose")?e:e.concat("Other Dose");return r.a.createElement("select",{name:"dosage",style:fe,onChange:l,className:"form-control"},r.a.createElement("option",{defaultValue:!0},"Which Dose?"),t.map(function(e,t){return r.a.createElement("option",{key:t},e)}))}return r.a.createElement(h,{name:"dosage",placeholder:"Enter Dosage",style:fe,onChange:l})}(f))),r.a.createElement(d,{size:"md-2"},r.a.createElement(N,{className:"btn",style:pe,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-plus fa-2x mr-2"})," "," Add")))),r.a.createElement("div",{className:"form-row"},function(e){var t=this;return e.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,a){return r.a.createElement(d,{key:a,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:de},e.medication," ",r.a.createElement(N,{className:"fas fa-times",type:"submit",style:be,onClick:c.bind(t,a)})),r.a.createElement("div",null,e.dosage))})}(t))):r.a.createElement("div",{className:"my-5 med-info"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},n?"".concat(n,"'s"):""," Medications:")),r.a.createElement(d,{size:"md-12",classes:"mt-5"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:Ee,onClick:i})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},t.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(e,t){return r.a.createElement(d,{key:t,size:"md-12",classes:"form-group"},r.a.createElement("label",{style:de},e.medication," "),r.a.createElement("div",null,e.dosage))}))))}var de={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},fe={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},Ee={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},pe={marginTop:"30px",color:"#214c91",focus:"none",size:"10em"},ge={border:"none",color:"green",float:"right",backgroundColor:"white"},be={backgroundColor:"white",border:"none",color:"red"};function ve(e){var t=e.target,a=e.toggleState,n=e.formSubmit;return r.a.createElement("div",{className:"my-5"},r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:he,onClick:a})),r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact for"),r.a.createElement(h,{name:"contact",placeholder:"PCP, Pharmacy, etc..",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Office or Business Name"),r.a.createElement(h,{name:"office",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact Name"),r.a.createElement(h,{name:"name",placeholder:"Dr. Smith",style:Ne,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 1"),r.a.createElement(h,{name:"addressOne",style:Ne,onChange:t}),"                    "),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 2"),r.a.createElement(h,{name:"addressTwo",style:Ne,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City"),r.a.createElement(h,{name:"city",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence"),r.a.createElement(h,{name:"state",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code"),r.a.createElement(h,{name:"zip",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(h,{name:"country",style:Ne,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Primary Phone"),r.a.createElement(h,{name:"primaryPhone",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{name:"primaryExt",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Another Phone"),r.a.createElement(h,{name:"secondaryPhone",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{name:"secondaryExt",style:Ne,onChange:t}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Fax"),r.a.createElement(h,{name:"fax",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(h,{name:"email",style:Ne,onChange:t})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Website"),r.a.createElement(h,{name:"website",style:Ne,onChange:t}))),r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"btn",style:ye,type:"submit"}," ",r.a.createElement("i",{className:"fa fa-address-book mr-2"})," "," "," "," Save"))))}var he={float:"right",border:"none",margin:"0",color:"tomato",backgroundColor:"white"},ye={float:"right",margin:"0",backgroundColor:"#55595c",color:"white"},Ne={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"};function xe(e){var t=this,a=e.data,l=e.name,c=e.target,o=e.remove,m=e.newContact,i=e.toggleNew,u=e.newTarget,f=e.toggleState,E=e.formSubmit,p=Object(n.useState)(!1),g=Object(s.a)(p,2),b=g[0],y=g[1],x=function(e){return e?e.replace(/[^\d]/g,""):""},w=function(e){return b?r.a.createElement("div",{className:"remove"},r.a.createElement(N,{type:"button",className:"btn btn-danger",style:{float:"right"},onClick:o.bind(t,e,function(){y(!b)})},r.a.createElement("i",{className:"fas fa-user-times"}," ")," Confirm Delete"),r.a.createElement(N,{className:"btn minus",style:{float:"left"},onClick:function(){y(!b)}},r.a.createElement("i",{className:"fas fa-ban"})," Cancel")):r.a.createElement("div",{className:"remove"},r.a.createElement(N,{className:"btn minus",style:{float:"left"},onClick:function(){y(!b)}},r.a.createElement("i",{className:"fa fa-minus"})," Remove Contact"))};return r.a.createElement("div",{className:"my-5"},r.a.createElement("em",null,r.a.createElement("h5",{style:{textDecoration:"underline"}},"Emergency or other contact Info ",l?"for ".concat(l):"",":")),function(e){var t=this;return e.map(function(e,a){return e.edit?r.a.createElement("div",{key:a,className:"mt-5"},r.a.createElement(d,{size:"md-12"},r.a.createElement(N,{className:"fas fa-backspace fa-2x",style:b?Object(v.a)({},ze,{color:"white"}):ze,onClick:f.bind(t,a)})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact for"),r.a.createElement(h,{value:e.contact,name:"contact",placeholder:"Dr, Pharmacy, etc..",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Office or Business Name"),r.a.createElement(h,{value:e.office,name:"office",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact Name"),r.a.createElement(h,{value:e.name,name:"name",placeholder:"Dr. Smith",style:Oe,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 1"),r.a.createElement(h,{value:e.addressOne,name:"addressOne",style:Oe,onChange:c(a)})," "),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address Line 2"),r.a.createElement(h,{value:e.addressTwo,name:"addressTwo",style:Oe,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City"),r.a.createElement(h,{value:e.city,name:"city",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence"),r.a.createElement(h,{value:e.state,name:"state",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code"),r.a.createElement(h,{value:e.zip,name:"zip",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(h,{value:e.country,name:"country",style:Oe,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Primary Phone"),r.a.createElement(h,{value:e.primaryPhone,name:"primaryPhone",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{value:e.primaryExt,name:"primaryExt",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Another Phone"),r.a.createElement(h,{value:e.secondaryPhone,name:"secondaryPhone",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext."),r.a.createElement(h,{value:e.secondaryExt,name:"secondaryExt",style:Oe,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Fax"),r.a.createElement(h,{value:e.fax,name:"fax",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(h,{value:e.email,name:"email",style:Oe,onChange:c(a)})),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Website"),r.a.createElement(h,{value:e.website,name:"website",style:Oe,onChange:c(a)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-12"},w(a),r.a.createElement(N,{className:"btn",style:b?{display:"none"}:Ce,onClick:f.bind(t,a)},r.a.createElement("i",{className:"fas fa-sync-alt mr-2"}),"update"))))):r.a.createElement("div",{key:a,className:"mt-5 contacts-info"},r.a.createElement(d,{size:"md-12",classes:"contacts-edit"},r.a.createElement(N,{className:"fas fa-user-edit fa-2x",style:je,onClick:function(){y(!1),f(a)}})),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact for:"),r.a.createElement("div",{style:we},e.contact)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Office or Business Name:"),r.a.createElement("div",{style:we},e.office)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Contact Name:"),r.a.createElement("div",{style:we},e.name))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 1:"),r.a.createElement("div",{style:we},e.addressOne)),r.a.createElement(d,{size:"md-6",classes:"form-group"},r.a.createElement("label",null,"Address line 2:"),r.a.createElement("div",{style:we},e.addressTwo))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"City:"),r.a.createElement("div",{style:we},e.city)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"State/Providence:"),r.a.createElement("div",{style:we},e.state)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Zip/Postal Code:"),r.a.createElement("div",{style:we},e.zip)),r.a.createElement(d,{size:"md-3",classes:"form-group"},r.a.createElement("label",null,"Country:"),r.a.createElement("div",{style:we},e.country))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Primary Phone:"),r.a.createElement("div",{style:Object(v.a)({},we,{textDecoration:"underline"})},r.a.createElement("a",{href:"tel:".concat(x(e.primaryPhone))},e.primaryPhone))),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext:"),r.a.createElement("div",{style:we},e.primaryExt)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Another Phone:"),r.a.createElement("div",{style:Object(v.a)({},we,{textDecoration:"underline"})},r.a.createElement("a",{href:"tel:".concat(x(e.secondaryPhone))},e.secondaryPhone))),r.a.createElement(d,{size:"md-2",classes:"form-group"},r.a.createElement("label",null,"Ext:"),r.a.createElement("div",{style:we},e.secondaryExt))),r.a.createElement("div",{className:"form-row"},r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Fax:"),r.a.createElement("div",{style:we},e.fax)),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("div",{style:Object(v.a)({},we,{textDecoration:"underline"})},r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement(d,{size:"md-4",classes:"form-group"},r.a.createElement("label",null,"Website:"),r.a.createElement("div",{style:Object(v.a)({},we,{textDecoration:"underline"})},r.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://".concat(e.website)},e.website))))))})}(a),function(e){if(e)return r.a.createElement(ve,{target:u,toggleState:i,formSubmit:E})}(m),r.a.createElement("div",{className:"add"},r.a.createElement(N,{className:"btn plus",style:m?{display:"none"}:{display:"block"},onClick:i},r.a.createElement("i",{className:"fa fa-plus"})," New Contact")))}var we={fontStyle:"italic",fontWeight:"1000",padding:"10px 10px 10px 0",color:"black"},Oe={borderBottom:"1px solid rgba(0, 0, 0, .2)",transition:"all 0.30s ease-in-out"},Ce={float:"right",margin:"0",backgroundColor:"#214c91",color:"white"},je={float:"right",border:"none",margin:"0",color:"white",backgroundColor:"white"},ze={float:"right",border:"none",margin:"0",color:"tomato",backgroundColor:"white"};function ke(e){var t,a=e.location,l=e.setContext,c=Object(n.useContext)(Z),o=c.patientId,m=c.name;o=o||a.state.patientId;var f=Object(n.useState)(o),E=Object(s.a)(f,2),p=E[0],g=E[1],h=Object(n.useState)({}),y=Object(s.a)(h,2),N=y[0],x=y[1],w=Object(n.useState)({}),O=Object(s.a)(w,2),j=O[0],z=O[1],k=Object(n.useState)([]),S=Object(s.a)(k,2),P=S[0],D=S[1],A=Object(n.useState)([]),I=Object(s.a)(A,2),T=I[0],R=I[1],B=Object(n.useState)([]),L=Object(s.a)(B,2),W=L[0],F=L[1],_=Object(n.useState)(""),U=Object(s.a)(_,2),K=U[0],V=U[1],$=Object(n.useState)({}),q=Object(s.a)($,2),X=q[0],ee=q[1],te=Object(n.useState)(!1),ae=Object(s.a)(te,2),re=ae[0],le=ae[1],ce=Object(n.useState)(!1),se=Object(s.a)(ce,2),oe=se[0],me=se[1],ie=Object(n.useState)(!1),de=Object(s.a)(ie,2),fe=de[0],Ee=de[1],pe=Object(n.useState)(!1),ge=Object(s.a)(pe,2),be=ge[0],ve=ge[1],he=Object(n.useState)(!1),ye=Object(s.a)(he,2),Ne=ye[0],we=ye[1],Oe=Object(n.useState)(!1),Ce=Object(s.a)(Oe,2),je=Ce[0],ze=Ce[1],ke=Object(n.useState)([]),Se=Object(s.a)(ke,2),Pe=Se[0],De=Se[1],Ae=Object(n.useState)([]),Ie=Object(s.a)(Ae,2),Te=Ie[0],Re=Ie[1],Be=Object(n.useState)(""),Le=Object(s.a)(Be,2),Me=Le[0],He=Le[1],We=Object(n.useState)(""),Fe=Object(s.a)(We,2),_e=Fe[0],Ue=Fe[1],Ge=Y(),Ye=Object(n.useRef)(),Ze=Object(n.useRef)(),Je=Object(n.useRef)(),Ke=Object(n.useRef)(!0);Object(n.useEffect)(function(){Ke.current?(Ke.current=!1,Ve()):qe()},[N,j,P,T,W]);var Ve=function(){var e=Object(H.a)(M.a.mark(function e(){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.patientId){e.next=4;break}$e(),e.next=14;break;case 4:return e.next=6,C.fetchPatient(p);case 6:t=e.sent,n=t.data,x(n.patientData),z(n.healthData),D(n.healthConditions),R(n.medications),F(n.contacts),Qe(n);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(H.a)(M.a.mark(function e(){var t,a,n,r,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getUser();case 2:return t=e.sent,a=t.data.user.email,n={email:a,generalInfo:N,healthInfo:j,conditions:P,meds:T,contacts:W},e.next=7,C.addPatient(n);case 7:r=e.sent,l=r.data,g(l._id),me(!0),Ee(!0),Qe();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),qe=function(e){if(e&&(e.preventDefault(),me(!1),Ee(!1)),Xe()){var t={generalInfo:N,healthInfo:j,conditions:P,meds:T,contacts:W};C.updateEHR(p,t).catch(function(e){return console.log(e)})}},Qe=function(e){Ye.current=!!(e&&e.healthConditions.length>0),Ze.current=!!(e&&e.medications.length>0),Je.current=!!(e&&e.contacts.length>0)},Xe=function(){return(!Ye.current||0!==P.length)&&((!Ze.current||0!==T.length)&&(!Je.current||0!==W.length))};Object(n.useEffect)(function(){et()},[N]);var et=function(){var e=N.firstName,t=N.nickname;l({patientId:p,name:t||e})},tt=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n,r,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,lt(a);case 3:n=e.sent,r=[],a.length>0&&(l=new RegExp("^".concat(a),"i"),r=n.sort().filter(function(e){return l.test(e)})),De({suggestions:r,text:a});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=setTimeout(function(){return V(_e)},500);return function(){return clearTimeout(e)}},[_e]);var at=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n,r,l,c,s;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,n=a.name,r=a.value,Ue(Object(v.a)({},_e,Object(b.a)({},n,r))),"medication"!==n){e.next=15;break}return e.prev=3,e.next=6,ct(r);case 6:l=e.sent,c=[],r.length>0&&(s=new RegExp("^".concat(r),"i"),c=l.sort().filter(function(e){return s.test(e)}).slice(0,8)),Re({suggestions:c,text:r}),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return");case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n,r,l,c,o,m,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.reset(),a=Pe.text,De([]),a){e.next=6;break}return e.abrupt("return");case 6:return n=a.split("-"),r=Object(s.a)(n,1),l=r[0],e.next=11,C.fetchCondition(l);case 11:c=e.sent,o=c.data,m=o[0]&&o[0].shortdef?o[0].shortdef.join("\n"):"",i={name:rt(a),description:m,edit:!1,createdAt:Date.now()},Ye.current=!0,D([].concat(Object(G.a)(P),[i]));case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),rt=function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},lt=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getConditionNames(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n[3].map(function(e){return e[0]}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getMedNames(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n.displayTermsList?n.displayTermsList.term:"??");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n,r,l,c,o,m;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(De({suggestions:[],text:t}),t){e.next=3;break}return e.abrupt("return");case 3:return a=t.split("-"),n=Object(s.a)(a,1),r=n[0],e.next=8,C.fetchCondition(r);case 8:l=e.sent,c=l.data,o=c[0]&&c[0].shortdef?c[0].shortdef.join("\n"):"",m={name:rt(t),description:o,edit:!1,createdAt:Date.now()},D([].concat(Object(G.a)(P),[m])),De({text:""});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Re({suggestions:[],text:t}),t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,C.fetchMeds(t);case 6:a=e.sent,n=a.data,r=n.drugGroup.conceptGroup[1].conceptProperties.map(function(e){return e.synonym}).filter(function(e){return""!==e}),He(r),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return");case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(H.a)(M.a.mark(function e(t){var a,n,r,l;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Te.text){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,C.fetchMeds(a);case 7:n=e.sent,r=n.data,l=r.drugGroup.conceptGroup[1].conceptProperties.map(function(e){return e.synonym}).filter(function(e){return""!==e}),He(l),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return");case 16:case"end":return e.stop()}},e,null,[[4,13]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(i,null,r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(J,{toggleState:function(){return me(!oe)},editState:oe,data:N,target:function(e){var t=e.target,a=t.name,n=t.value;x(Object(v.a)({},N,Object(b.a)({},a,n)))},formSubmit:qe,name:m}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(Q,{toggleState:function(){return Ee(!fe)},editState:fe,data:j,target:function(e){var t=e.target,a=t.name,n=t.value;z(Object(v.a)({},j,Object(b.a)({},a,n)))},formSubmit:qe,name:m}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(ne,(t={toggleState:function(){return ve(!be)},editState:be,toggleDescState:function(){return ze(!je)},editDescState:je},Object(b.a)(t,"editState",be),Object(b.a)(t,"toggleDescState",function(e){var t=[];P.forEach(function(a,n){a.edit=n===e&&!a.edit,t.push(a)}),D(t)}),Object(b.a)(t,"remove",function(e){var t=P;t.splice(e,1),Ye.current=0!==t.length,D(Object(G.a)(t))}),Object(b.a)(t,"areaTarget",function(e){return function(t){var a=t.target.value,n=P;Ge();var r={name:P[e].name,edit:P[e].edit,description:a};n.splice(e,1,r),D(n)}}),Object(b.a)(t,"data",P),Object(b.a)(t,"target",tt),Object(b.a)(t,"renderSuggestions",function(){var e=Pe.suggestions;if(e&&0!==e.length)return r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{onClick:function(){return st(e)},key:t},e)}))}),Object(b.a)(t,"text",Pe.text),Object(b.a)(t,"formSubmit",nt),Object(b.a)(t,"name",m),t)))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(ue,{toggleState:function(){return we(!Ne)},editState:Ne,data:T,target:at,renderSuggestions:function(){var e=Te.suggestions;if(e&&0!==e.length)return r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{onClick:function(){return ot(e)},key:t},e)}))},text:Te.text,otherDosage:K.dosage,remove:function(e){var t=T;t.splice(e,1),Ze.current=0!==t.length,R(Object(G.a)(t))},addDoses:mt,doseChoices:Me,formSubmit:function(e){e.preventDefault(),e.target.reset();var t=Te.text;if(t)try{t=t.split(" ");var a={medication:rt(t[0]),dosage:K.dosage,edit:!1,createdAt:Date.now()};Ze.current=!0,R([].concat(Object(G.a)(T),[a])),He(""),Ue(""),Re([])}catch(n){return}},name:m}))),r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(xe,{toggleNew:function(){return le(!re)},toggleState:function(e){var t=[];W.forEach(function(a,n){a.edit=n===e&&!a.edit,t.push(a)}),F(t)},newContact:re,data:W,target:function(e){return function(t){var a=t.target,n=a.name,r=a.value,l=W,c=W[e];Ge();for(var s=0,o=Object.keys(c);s<o.length;s++){var m=o[s];m===n?c[m]=r:c.hasOwnProperty(n)||(c[n]=r)}l.splice(e,1,c),F(l)}},remove:function(e){var t=W;t.splice(e,1),Je.current=0!==t.length,F(Object(G.a)(t))},newTarget:function(e){var t=e.target,a=t.name,n=t.value;ee(Object(v.a)({},X,Object(b.a)({},a,n)))},formSubmit:function(e){e.preventDefault(),le(!1),Je.current=!0,F([].concat(Object(G.a)(W),[X]))},name:m}))))}function Se(e){var t=e.location,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)({}),f=Object(s.a)(m,2),E=f[0],p=f[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),y=h[0],N=h[1],x=Object(n.useState)({}),w=Object(s.a)(x,2),O=w[0],j=w[1],z=Object(n.useState)({}),k=Object(s.a)(z,2),S=k[0],P=k[1],D=Object(n.useState)([]),A=Object(s.a)(D,2),I=A[0],T=A[1],R=Object(n.useState)([]),B=Object(s.a)(R,2),L=B[0],W=B[1],F=Object(n.useRef)(),_=Y(),U=Object(n.useRef)(!0),J=Object(n.useContext)(Z),K=J.patientId,V=J.name;K=K||t.state.patientId,Object(n.useEffect)(function(){U.current?(U.current=!1,$()):q()},[c]);var $=function(){var e=Object(H.a)(M.a.mark(function e(){var t,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(K){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C.fetchPatient(K);case 4:t=e.sent,a=t.data,j(a.patientData),P(a.healthData),T(a.healthConditions),W(a.medications),o(a.contacts),F.current=Q(a);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){if(X()){var e={generalInfo:O,healthInfo:S,conditions:I,meds:L,contacts:c};C.updateEHR(K,e).catch(function(e){return console.log(e)})}},Q=function(e){return!!(e&&e.contacts.length>0)},X=function(){return!F.current||0!==c.length};return r.a.createElement(i,null,r.a.createElement(u,{classes:"my-5"},r.a.createElement(d,{size:"md-8",classes:"offset-md-2"},r.a.createElement(xe,{toggleNew:function(){return N(!y)},toggleState:function(e){var t=[];c.forEach(function(a,n){a.edit=n===e&&!a.edit,t.push(a)}),o(t)},newContact:y,data:c,target:function(e){return function(t){var a=t.target,n=a.name,r=a.value,l=c,s=c[e];_();for(var m=0,i=Object.keys(s);m<i.length;m++){var u=i[m];u===n?s[u]=r:s.hasOwnProperty(n)||(s[n]=r)}l.splice(e,1,s),o(l)}},remove:function(e){var t=c;t.splice(e,1),o(Object(G.a)(t))},newTarget:function(e){var t=e.target,a=t.name,n=t.value;p(Object(v.a)({},E,Object(b.a)({},a,n)))},formSubmit:function(e){e.preventDefault(),N(!1);var t=c.concat(E);o(t)},name:V}))))}var Pe=a(37);function De(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(m.f)(),i=Object(m.g)().pathname,u=Object(n.useContext)(Z),d=u.patientId,E=u.name,p=function(){return k.logout(function(){c.push("/")})};return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},r.a.createElement("em",null,"my"),"EHR"),r.a.createElement("button",{onClick:function(){return l((Object(Pe.a)("navLinks"),a=!a))},className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#target-collapse"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(f,{navState:a,id:"target-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"/"===i?"nav-item active":"nav-item"},r.a.createElement(o.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"/patients"===i?"nav-item active":"nav-item",style:k.isAuthenticated()?{display:"block"}:{display:"none"}},r.a.createElement(o.b,{to:"/patients",className:"nav-link"},"Saved health records")),r.a.createElement("li",{className:"/ehr"===i?"nav-item active":"nav-item",style:"/ehr"===i||"/contacts"===i?{display:"block"}:{display:"none"}},r.a.createElement(o.b,{to:{pathname:"/ehr",state:{patientId:d,name:E}},className:"nav-link"},E?"".concat(E,"'s"):""," EHR")),r.a.createElement("li",{className:"/contacts"===i?"nav-item active":"nav-item",style:"/ehr"===i||"/contacts"===i?{display:"block"}:{display:"none"}},r.a.createElement(o.b,{to:{pathname:"/contacts",state:{patientId:d,name:E}},className:"nav-link"},E?"".concat(E,"'s"):""," Contacts"))),k.isAuthenticated()?r.a.createElement(N,{className:"btn btn-outline-primary m-2",type:"button",onClick:p},"Log Out"):r.a.createElement("div",null,r.a.createElement(o.b,{to:"/signin"},r.a.createElement(N,{className:"btn btn-outline-primary m-2",type:"button"},"Log In")),r.a.createElement(o.b,{to:"/signup"},r.a.createElement(N,{className:"btn btn-outline-primary m-2",type:"button"},"Sign Up")))))}var Ae=a(38);function Ie(e){var t=e.component,a=Object(Ae.a)(e,["component"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return k.isAuthenticated()?r.a.createElement(t,Object.assign({},a,e)):r.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))}a(69),a(70);function Te(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Z.Provider,i=function(e){return l(e)};return r.a.createElement(o.a,null,r.a.createElement(c,{value:a},r.a.createElement(m.b,{path:"/"},r.a.createElement(De,null)," "),r.a.createElement(m.b,{exact:!0,path:"/"}," ",r.a.createElement(E,null)," "),r.a.createElement(m.b,{exact:!0,path:"/signin"}," ",r.a.createElement(S,null)," "),r.a.createElement(m.b,{exact:!0,path:"/signup"}," ",r.a.createElement(I,null)," "),r.a.createElement(Ie,{exact:!0,path:"/patients",component:U,setContext:i}),r.a.createElement(Ie,{exact:!0,path:"/ehr",component:ke,setContext:i}),r.a.createElement(Ie,{exact:!0,path:"/contacts",component:Se})))}var Re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Te,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Re?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Be(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Be(e)})}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.cfa6c534.chunk.js.map